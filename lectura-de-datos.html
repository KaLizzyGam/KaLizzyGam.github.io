<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 8 Lectura de datos | Introducción a Ciencia de Datos con R (Tidyverse)</title>
  <meta name="description" content="Curso de aprendizaje de programación de R para Ciencia de Datos con Tidyverse" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 8 Lectura de datos | Introducción a Ciencia de Datos con R (Tidyverse)" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Curso de aprendizaje de programación de R para Ciencia de Datos con Tidyverse" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 8 Lectura de datos | Introducción a Ciencia de Datos con R (Tidyverse)" />
  
  <meta name="twitter:description" content="Curso de aprendizaje de programación de R para Ciencia de Datos con Tidyverse" />
  

<meta name="author" content="Karina Lizette Gamboa Puente" />
<meta name="author" content="Oscar Arturo Bringas López" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="bucles.html"/>
<link rel="next" href="tidyverse.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><img src="img/amat-logo.png" width="280"></a></li|
|:-:|  
<center>Introducción a Ciencia de Datos con R (Tidyverse)</center>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> BIENVENIDA</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#objetivo"><i class="fa fa-check"></i><b>1.1</b> Objetivo</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#quienes-somos"><i class="fa fa-check"></i><b>1.2</b> ¿Quienes somos?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#ciencia-de-datos-en-r"><i class="fa fa-check"></i><b>1.3</b> Ciencia de Datos en R</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#estructura-del-curso-actual"><i class="fa fa-check"></i><b>1.4</b> Estructura del curso actual</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#alcances-del-curso"><i class="fa fa-check"></i><b>1.4.1</b> Alcances del curso</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#duración-y-evaluación-del-curso"><i class="fa fa-check"></i><b>1.5</b> Duración y evaluación del curso</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#recursos-y-dinámica-de-clase"><i class="fa fa-check"></i><b>1.6</b> Recursos y dinámica de clase</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introducción-a-ciencia-de-datos.html"><a href="introducción-a-ciencia-de-datos.html"><i class="fa fa-check"></i><b>2</b> Introducción a Ciencia de Datos</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introducción-a-ciencia-de-datos.html"><a href="introducción-a-ciencia-de-datos.html#qué-es-ciencia-de-datos"><i class="fa fa-check"></i><b>2.1</b> ¿Qué es Ciencia de Datos?</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="introducción-a-ciencia-de-datos.html"><a href="introducción-a-ciencia-de-datos.html#definiendo-conceptos"><i class="fa fa-check"></i><b>2.1.1</b> Definiendo conceptos:</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introducción-a-ciencia-de-datos.html"><a href="introducción-a-ciencia-de-datos.html#objetivo-de-la-ciencia-de-datos"><i class="fa fa-check"></i><b>2.2</b> Objetivo de la Ciencia de Datos</a></li>
<li class="chapter" data-level="2.3" data-path="introducción-a-ciencia-de-datos.html"><a href="introducción-a-ciencia-de-datos.html#qué-se-requiere-para-hacer-ciencia-de-datos"><i class="fa fa-check"></i><b>2.3</b> ¿Qué se requiere para hacer Ciencia de Datos?</a></li>
<li class="chapter" data-level="2.4" data-path="introducción-a-ciencia-de-datos.html"><a href="introducción-a-ciencia-de-datos.html#aplicaciones-de-ciencia-de-datos"><i class="fa fa-check"></i><b>2.4</b> Aplicaciones de Ciencia de Datos</a></li>
<li class="chapter" data-level="2.5" data-path="introducción-a-ciencia-de-datos.html"><a href="introducción-a-ciencia-de-datos.html#tipos-de-aprendizaje"><i class="fa fa-check"></i><b>2.5</b> Tipos de aprendizaje</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="introducción-a-ciencia-de-datos.html"><a href="introducción-a-ciencia-de-datos.html#aprendizaje-supervisado"><i class="fa fa-check"></i><b>2.5.1</b> Aprendizaje supervisado</a></li>
<li class="chapter" data-level="2.5.2" data-path="introducción-a-ciencia-de-datos.html"><a href="introducción-a-ciencia-de-datos.html#aprendizaje-no-supervisado"><i class="fa fa-check"></i><b>2.5.2</b> Aprendizaje no supervisado</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>3</b> R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r.html"><a href="r.html#cómo-obtener-r"><i class="fa fa-check"></i><b>3.1</b> ¿Cómo obtener <em>R</em>?</a></li>
<li class="chapter" data-level="3.2" data-path="r.html"><a href="r.html#qué-es-rstudio"><i class="fa fa-check"></i><b>3.2</b> ¿Qué es RStudio?</a></li>
<li class="chapter" data-level="3.3" data-path="r.html"><a href="r.html#r-como-lenguaje-orientado-a-objetos"><i class="fa fa-check"></i><b>3.3</b> <em>R</em> como lenguaje orientado a objetos</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tipos-de-variables.html"><a href="tipos-de-variables.html"><i class="fa fa-check"></i><b>4</b> Tipos de variables</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tipos-de-variables.html"><a href="tipos-de-variables.html#variables"><i class="fa fa-check"></i><b>4.1</b> Variables</a></li>
<li class="chapter" data-level="4.2" data-path="tipos-de-variables.html"><a href="tipos-de-variables.html#vectores"><i class="fa fa-check"></i><b>4.2</b> Vectores</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="tipos-de-variables.html"><a href="tipos-de-variables.html#cómo-extraer-elementos-de-un-vector"><i class="fa fa-check"></i><b>4.2.1</b> Cómo extraer elementos de un vector?</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="tipos-de-variables.html"><a href="tipos-de-variables.html#matrices"><i class="fa fa-check"></i><b>4.3</b> Matrices</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="tipos-de-variables.html"><a href="tipos-de-variables.html#cómo-extraer-elementos-de-una-matriz"><i class="fa fa-check"></i><b>4.3.1</b> ¿Cómo extraer elementos de una matriz?</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tipos-de-variables.html"><a href="tipos-de-variables.html#arreglos"><i class="fa fa-check"></i><b>4.4</b> Arreglos</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="tipos-de-variables.html"><a href="tipos-de-variables.html#cómo-extraer-elementos-de-un-arreglo"><i class="fa fa-check"></i><b>4.4.1</b> ¿Cómo extraer elementos de un arreglo?</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="tipos-de-variables.html"><a href="tipos-de-variables.html#data-frames"><i class="fa fa-check"></i><b>4.5</b> Data Frames</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="tipos-de-variables.html"><a href="tipos-de-variables.html#cómo-extraer-elementos-de-un-data-frame"><i class="fa fa-check"></i><b>4.5.1</b> ¿Cómo extraer elementos de un data frame?</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="tipos-de-variables.html"><a href="tipos-de-variables.html#listas"><i class="fa fa-check"></i><b>4.6</b> Listas</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="tipos-de-variables.html"><a href="tipos-de-variables.html#cómo-extraer-elementos-de-una-lista"><i class="fa fa-check"></i><b>4.6.1</b> ¿Cómo extraer elementos de una lista?</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="tipos-de-variables.html"><a href="tipos-de-variables.html#ejercicios"><i class="fa fa-check"></i><b>4.7</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="estilo.html"><a href="estilo.html"><i class="fa fa-check"></i><b>5</b> Guía de estilo</a>
<ul>
<li class="chapter" data-level="5.1" data-path="estilo.html"><a href="estilo.html#nombres-de-los-archivos"><i class="fa fa-check"></i><b>5.1</b> Nombres de los archivos</a></li>
<li class="chapter" data-level="5.2" data-path="estilo.html"><a href="estilo.html#nombres-de-los-objetos"><i class="fa fa-check"></i><b>5.2</b> Nombres de los objetos</a></li>
<li class="chapter" data-level="5.3" data-path="estilo.html"><a href="estilo.html#longitud-de-una-línea-de-código"><i class="fa fa-check"></i><b>5.3</b> Longitud de una línea de código</a></li>
<li class="chapter" data-level="5.4" data-path="estilo.html"><a href="estilo.html#espacios"><i class="fa fa-check"></i><b>5.4</b> Espacios</a></li>
<li class="chapter" data-level="5.5" data-path="estilo.html"><a href="estilo.html#asignación"><i class="fa fa-check"></i><b>5.5</b> Asignación</a></li>
<li class="chapter" data-level="5.6" data-path="estilo.html"><a href="estilo.html#punto-y-coma"><i class="fa fa-check"></i><b>5.6</b> Punto y coma</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="funbas.html"><a href="funbas.html"><i class="fa fa-check"></i><b>6</b> Funciones básicas de R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="funbas.html"><a href="funbas.html#qué-es-una-función-de-r"><i class="fa fa-check"></i><b>6.1</b> ¿Qué es una función de R?</a></li>
<li class="chapter" data-level="6.2" data-path="funbas.html"><a href="funbas.html#operadores-de-asignación"><i class="fa fa-check"></i><b>6.2</b> Operadores de asignación</a>
<ul>
<li class="chapter" data-level="" data-path="funbas.html"><a href="funbas.html#ejemplo"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="funbas.html"><a href="funbas.html#operaciones-básicas"><i class="fa fa-check"></i><b>6.3</b> Operaciones básicas</a></li>
<li class="chapter" data-level="6.4" data-path="funbas.html"><a href="funbas.html#pruebas-lógicas"><i class="fa fa-check"></i><b>6.4</b> Pruebas lógicas</a></li>
<li class="chapter" data-level="6.5" data-path="funbas.html"><a href="funbas.html#operadores-lógicos"><i class="fa fa-check"></i><b>6.5</b> Operadores lógicos</a></li>
<li class="chapter" data-level="6.6" data-path="funbas.html"><a href="funbas.html#funciones-sobre-vectores"><i class="fa fa-check"></i><b>6.6</b> Funciones sobre vectores</a>
<ul>
<li class="chapter" data-level="" data-path="funbas.html"><a href="funbas.html#ejemplo-1"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="funbas.html"><a href="funbas.html#función-rep"><i class="fa fa-check"></i><b>6.7</b> Función <code>rep</code></a>
<ul>
<li class="chapter" data-level="" data-path="funbas.html"><a href="funbas.html#ejemplo-2"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="funbas.html"><a href="funbas.html#función-seq"><i class="fa fa-check"></i><b>6.8</b> Función <code>seq</code></a>
<ul>
<li class="chapter" data-level="" data-path="funbas.html"><a href="funbas.html#ejemplo-3"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="funbas.html"><a href="funbas.html#ejercicios-1"><i class="fa fa-check"></i><b>6.9</b> EJERCICIOS</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="bucles.html"><a href="bucles.html"><i class="fa fa-check"></i><b>7</b> Instrucciones de control</a>
<ul>
<li class="chapter" data-level="7.1" data-path="bucles.html"><a href="bucles.html#instrucción-if"><i class="fa fa-check"></i><b>7.1</b> Instrucción <code>if</code></a>
<ul>
<li class="chapter" data-level="" data-path="bucles.html"><a href="bucles.html#ejemplo-4"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="bucles.html"><a href="bucles.html#instrucción-if-else"><i class="fa fa-check"></i><b>7.2</b> Instrucción <code>if</code> <code>else</code></a></li>
<li class="chapter" data-level="7.3" data-path="bucles.html"><a href="bucles.html#instrucción-ifelse"><i class="fa fa-check"></i><b>7.3</b> Instrucción <code>ifelse</code></a>
<ul>
<li class="chapter" data-level="" data-path="bucles.html"><a href="bucles.html#ejemplo-5"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="bucles.html"><a href="bucles.html#instrucción-for"><i class="fa fa-check"></i><b>7.4</b> Instrucción <code>for</code></a>
<ul>
<li class="chapter" data-level="" data-path="bucles.html"><a href="bucles.html#ejemplo-6"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="bucles.html"><a href="bucles.html#instrucción-while"><i class="fa fa-check"></i><b>7.5</b> Instrucción <code>while</code></a>
<ul>
<li class="chapter" data-level="" data-path="bucles.html"><a href="bucles.html#ejemplo-7"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="bucles.html"><a href="bucles.html#instrucción-repeat"><i class="fa fa-check"></i><b>7.6</b> Instrucción <code>repeat</code></a>
<ul>
<li class="chapter" data-level="" data-path="bucles.html"><a href="bucles.html#ejemplo-8"><i class="fa fa-check"></i>Ejemplo</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="lectura-de-datos.html"><a href="lectura-de-datos.html"><i class="fa fa-check"></i><b>8</b> Lectura de datos</a>
<ul>
<li class="chapter" data-level="8.1" data-path="lectura-de-datos.html"><a href="lectura-de-datos.html#lectura-de-datos-1"><i class="fa fa-check"></i><b>8.1</b> Lectura de datos</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="lectura-de-datos.html"><a href="lectura-de-datos.html#archivos-csv"><i class="fa fa-check"></i><b>8.1.1</b> Archivos <em>csv</em></a></li>
<li class="chapter" data-level="8.1.2" data-path="lectura-de-datos.html"><a href="lectura-de-datos.html#archivos-xls-y-xlsx"><i class="fa fa-check"></i><b>8.1.2</b> Archivos <em>xls</em> y <em>xlsx</em></a></li>
<li class="chapter" data-level="8.1.3" data-path="lectura-de-datos.html"><a href="lectura-de-datos.html#archivos-json"><i class="fa fa-check"></i><b>8.1.3</b> Archivos json</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="lectura-de-datos.html"><a href="lectura-de-datos.html#bases-de-datos"><i class="fa fa-check"></i><b>8.2</b> Bases de Datos</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="lectura-de-datos.html"><a href="lectura-de-datos.html#microsoft-sql-server"><i class="fa fa-check"></i><b>8.2.1</b> Microsoft SQL Server</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>9</b> Tidyverse</a>
<ul>
<li class="chapter" data-level="9.1" data-path="tidyverse.html"><a href="tidyverse.html#consultas-de-datos-dplyr"><i class="fa fa-check"></i><b>9.1</b> Consultas de datos (dplyr)</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="tidyverse.html"><a href="tidyverse.html#select"><i class="fa fa-check"></i><b>9.1.1</b> select()</a></li>
<li class="chapter" data-level="9.1.2" data-path="tidyverse.html"><a href="tidyverse.html#filter"><i class="fa fa-check"></i><b>9.1.2</b> filter()</a></li>
<li class="chapter" data-level="9.1.3" data-path="tidyverse.html"><a href="tidyverse.html#arrange"><i class="fa fa-check"></i><b>9.1.3</b> arrange()</a></li>
<li class="chapter" data-level="9.1.4" data-path="tidyverse.html"><a href="tidyverse.html#mutate"><i class="fa fa-check"></i><b>9.1.4</b> mutate()</a></li>
<li class="chapter" data-level="9.1.5" data-path="tidyverse.html"><a href="tidyverse.html#summarise"><i class="fa fa-check"></i><b>9.1.5</b> summarise()</a></li>
<li class="chapter" data-level="9.1.6" data-path="tidyverse.html"><a href="tidyverse.html#group_by"><i class="fa fa-check"></i><b>9.1.6</b> group_by()</a></li>
<li class="chapter" data-level="9.1.7" data-path="tidyverse.html"><a href="tidyverse.html#rowwise"><i class="fa fa-check"></i><b>9.1.7</b> rowwise()</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="./"><img src="img/amat-logo.png" width="280"></a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a Ciencia de Datos con R (Tidyverse)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lectura-de-datos" class="section level1" number="8">
<h1><span class="header-section-number">Capítulo 8</span> Lectura de datos</h1>
<p>Usualmente, no creamos los datos desde la sesión de <em>R</em>, sino que a través de un archivo externo se realiza la lectura de datos escritos en un archivo. Los más comúnes son:</p>
<p><img src="img/02-lectura/archivos.jpg" style="display: block; margin: auto;" /></p>
<p>La paquetería <em>readr</em> fue desarrollada recientemente para lidiar con la lectura de archivos grandes rápidamente. El paquete proporciona reemplazos para funciones como <em>read.table()</em>, <em>read.csv()</em> entre otras. Esta paquetería proporciona funciones que suelen ser mucho más rápidas que las funciones base que proporciona <em>R</em>.</p>
<p><img src="img/02-lectura/logo-readr.png" width="120" style="display: block; margin: auto;" /></p>
<p><strong>Ventajas de readr:</strong></p>
<ul>
<li><p>Por lo general, son mucho más rápidos (~ 10x) que sus funciones equivalentes.</p></li>
<li><p>Producen tibbles:</p>
<ul>
<li>No convierten vectores de caracteres en factores.</li>
<li>No usan nombres de filas ni modifican los nombres de columnas.</li>
</ul></li>
<li><p>Reproducibilidad</p></li>
</ul>
<div id="lectura-de-datos-1" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Lectura de datos</h2>
<div id="archivos-csv" class="section level3" number="8.1.1">
<h3><span class="header-section-number">8.1.1</span> Archivos <em>csv</em></h3>
<p>A la hora de importar conjuntos de datos en <em>R</em>, uno de los formatos más habituales en los que hallamos información es en archivos separados por comas (comma separated values), cuya extensión suele ser <em>.csv</em>. En ellos encontramos múltiples líneas que recogen la tabla de interés, y en las cuales los valores aparecen, de manera consecutiva, separados por el carácter <em>,</em>.</p>
<p>Para importar este tipo de archivos en nuestra sesión de <em>R</em>, se utiliza la función <code>read_csv()</code>. Para acceder a su documentación utilizamos el comando <code>?read_csv</code>.</p>
<p>El único argumento que debemos de pasar a esta función de manera obligatoria, es <code>file</code>, el nombre o la ruta completa del archivo que pretendemos importar.</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="lectura-de-datos.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb194-2"><a href="lectura-de-datos.html#cb194-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-3"><a href="lectura-de-datos.html#cb194-3" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(</span>
<span id="cb194-4"><a href="lectura-de-datos.html#cb194-4" aria-hidden="true" tabindex="-1"></a>  file,</span>
<span id="cb194-5"><a href="lectura-de-datos.html#cb194-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_names =</span> <span class="cn">TRUE</span>,</span>
<span id="cb194-6"><a href="lectura-de-datos.html#cb194-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="cn">NULL</span>,</span>
<span id="cb194-7"><a href="lectura-de-datos.html#cb194-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">locale =</span> <span class="fu">default_locale</span>(),</span>
<span id="cb194-8"><a href="lectura-de-datos.html#cb194-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">na =</span> <span class="fu">c</span>(<span class="st">&quot;&quot;</span>, <span class="st">&quot;NA&quot;</span>),</span>
<span id="cb194-9"><a href="lectura-de-datos.html#cb194-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">quoted_na =</span> <span class="cn">TRUE</span>,</span>
<span id="cb194-10"><a href="lectura-de-datos.html#cb194-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">quote =</span> <span class="st">&quot;</span><span class="sc">\&quot;</span><span class="st">&quot;</span>,</span>
<span id="cb194-11"><a href="lectura-de-datos.html#cb194-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">comment =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<p>Algunas de las ventajas que utilizar <code>read_csv()</code> ofrece son:</p>
<ul>
<li>No convierte, automáticamente, las columnas con cadenas de caracteres a factores, como sí hacen por defecto las otras funciones base de <em>R</em>.</li>
<li>Reconoce ocho clases diferentes de datos (enteros, lógicos, etc.), dejando el resto como cadenas de caracteres.</li>
</ul>
<p>Veamos un ejemplo:</p>
<p>La base de datos llamada <a href="http://jse.amstat.org/v19n3/decock.pdf">AmesHousing</a> contiene un conjunto de datos con información de la Oficina del Tasador de Ames utilizada para calcular los valores tasados para las propiedades residenciales individuales vendidas en Ames, Iowa, de 2006 a 2010. FUENTES: Ames, Oficina del Tasador de Iowa.</p>
<p>Pueden descargar los datos para la clase <a href="https://drive.google.com/drive/folders/16aKNbkhYfF-x6R2oh4RswSQOXN62UQX3?usp=sharing">aquí</a></p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="lectura-de-datos.html#cb195-1" aria-hidden="true" tabindex="-1"></a>base<span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/ames.csv&quot;</span>) </span>
<span id="cb195-2"><a href="lectura-de-datos.html#cb195-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(base, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##                           MS_SubClass                MS_Zoning Lot_Frontage
## 1 One_Story_1946_and_Newer_All_Styles  Residential_Low_Density          141
## 2 One_Story_1946_and_Newer_All_Styles Residential_High_Density           80
##   Lot_Area Street           Alley          Lot_Shape Land_Contour Utilities
## 1    31770   Pave No_Alley_Access Slightly_Irregular          Lvl    AllPub
## 2    11622   Pave No_Alley_Access            Regular          Lvl    AllPub
##   Lot_Config Land_Slope Neighborhood Condition_1 Condition_2 Bldg_Type
## 1     Corner        Gtl   North_Ames        Norm        Norm    OneFam
## 2     Inside        Gtl   North_Ames       Feedr        Norm    OneFam
##   House_Style  Overall_Cond Year_Built Year_Remod_Add Roof_Style Roof_Matl
## 1   One_Story       Average       1960           1960        Hip   CompShg
## 2   One_Story Above_Average       1961           1961      Gable   CompShg
##   Exterior_1st Exterior_2nd Mas_Vnr_Type Mas_Vnr_Area Exter_Cond Foundation
## 1      BrkFace      Plywood        Stone          112    Typical     CBlock
## 2      VinylSd      VinylSd         None            0    Typical     CBlock
##   Bsmt_Cond Bsmt_Exposure BsmtFin_Type_1 BsmtFin_SF_1 BsmtFin_Type_2
## 1      Good            Gd            BLQ            2            Unf
## 2   Typical            No            Rec            6            LwQ
##   BsmtFin_SF_2 Bsmt_Unf_SF Total_Bsmt_SF Heating Heating_QC Central_Air
## 1            0         441          1080    GasA       Fair           Y
## 2          144         270           882    GasA    Typical           Y
##   Electrical First_Flr_SF Second_Flr_SF Gr_Liv_Area Bsmt_Full_Bath
## 1      SBrkr         1656             0        1656              1
## 2      SBrkr          896             0         896              0
##   Bsmt_Half_Bath Full_Bath Half_Bath Bedroom_AbvGr Kitchen_AbvGr TotRms_AbvGrd
## 1              0         1         0             3             1             7
## 2              0         1         0             2             1             5
##   Functional Fireplaces Garage_Type Garage_Finish Garage_Cars Garage_Area
## 1        Typ          2      Attchd           Fin           2         528
## 2        Typ          0      Attchd           Unf           1         730
##   Garage_Cond      Paved_Drive Wood_Deck_SF Open_Porch_SF Enclosed_Porch
## 1     Typical Partial_Pavement          210            62              0
## 2     Typical            Paved          140             0              0
##   Three_season_porch Screen_Porch Pool_Area Pool_QC           Fence
## 1                  0            0         0 No_Pool        No_Fence
## 2                  0          120         0 No_Pool Minimum_Privacy
##   Misc_Feature Misc_Val Mo_Sold Year_Sold Sale_Type Sale_Condition Sale_Price
## 1         None        0       5      2010       WD          Normal     215000
## 2         None        0       6      2010       WD          Normal     105000
##   Longitude Latitude
## 1 -93.61975 42.05403
## 2 -93.61976 42.05301</code></pre>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="lectura-de-datos.html#cb197-1" aria-hidden="true" tabindex="-1"></a>tidy<span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/ames.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Rows: 2930 Columns: 74</code></pre>
<pre><code>## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (40): MS_SubClass, MS_Zoning, Street, Alley, Lot_Shape, Land_Contour, Ut...
## dbl (34): Lot_Frontage, Lot_Area, Year_Built, Year_Remod_Add, Mas_Vnr_Area, ...</code></pre>
<pre><code>## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="lectura-de-datos.html#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tidy, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## # A tibble: 2 × 74
##   MS_SubClass      MS_Zoning     Lot_Frontage Lot_Area Street Alley   Lot_Shape 
##   &lt;chr&gt;            &lt;chr&gt;                &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;     
## 1 One_Story_1946_… Residential_…          141    31770 Pave   No_All… Slightly_…
## 2 One_Story_1946_… Residential_…           80    11622 Pave   No_All… Regular   
## # … with 67 more variables: Land_Contour &lt;chr&gt;, Utilities &lt;chr&gt;,
## #   Lot_Config &lt;chr&gt;, Land_Slope &lt;chr&gt;, Neighborhood &lt;chr&gt;, Condition_1 &lt;chr&gt;,
## #   Condition_2 &lt;chr&gt;, Bldg_Type &lt;chr&gt;, House_Style &lt;chr&gt;, Overall_Cond &lt;chr&gt;,
## #   Year_Built &lt;dbl&gt;, Year_Remod_Add &lt;dbl&gt;, Roof_Style &lt;chr&gt;, Roof_Matl &lt;chr&gt;,
## #   Exterior_1st &lt;chr&gt;, Exterior_2nd &lt;chr&gt;, Mas_Vnr_Type &lt;chr&gt;,
## #   Mas_Vnr_Area &lt;dbl&gt;, Exter_Cond &lt;chr&gt;, Foundation &lt;chr&gt;, Bsmt_Cond &lt;chr&gt;,
## #   Bsmt_Exposure &lt;chr&gt;, BsmtFin_Type_1 &lt;chr&gt;, BsmtFin_SF_1 &lt;dbl&gt;, …</code></pre>
<p>¿Y si el archivo que necesitamos leer esta en excel?</p>
</div>
<div id="archivos-xls-y-xlsx" class="section level3" number="8.1.2">
<h3><span class="header-section-number">8.1.2</span> Archivos <em>xls</em> y <em>xlsx</em></h3>
<p>La paquetería <em>readxl</em> facilita la obtención de datos tabulares de archivos de <em>Excel</em>. Admite tanto el formato <em>.xls</em> heredado como el formato <em>.xlsx</em> moderno basado en <em>XML</em>.</p>
<p>Esta paqueteía pone a disposición las siguientes funciones:</p>
<ul>
<li><code>read_xlsx()</code> lee un archivo con extensión <em>xlsx</em>.</li>
</ul>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="lectura-de-datos.html#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_xlsx</span>(</span>
<span id="cb203-2"><a href="lectura-de-datos.html#cb203-2" aria-hidden="true" tabindex="-1"></a> path,</span>
<span id="cb203-3"><a href="lectura-de-datos.html#cb203-3" aria-hidden="true" tabindex="-1"></a> <span class="at">sheet =</span> <span class="cn">NULL</span>,</span>
<span id="cb203-4"><a href="lectura-de-datos.html#cb203-4" aria-hidden="true" tabindex="-1"></a> <span class="at">range =</span> <span class="cn">NULL</span>,</span>
<span id="cb203-5"><a href="lectura-de-datos.html#cb203-5" aria-hidden="true" tabindex="-1"></a> <span class="at">col_names =</span> <span class="cn">TRUE</span>,</span>
<span id="cb203-6"><a href="lectura-de-datos.html#cb203-6" aria-hidden="true" tabindex="-1"></a> <span class="at">col_types =</span> <span class="cn">NULL</span>,</span>
<span id="cb203-7"><a href="lectura-de-datos.html#cb203-7" aria-hidden="true" tabindex="-1"></a> <span class="at">na =</span> <span class="st">&quot;&quot;</span>, </span>
<span id="cb203-8"><a href="lectura-de-datos.html#cb203-8" aria-hidden="true" tabindex="-1"></a> <span class="at">trim_ws =</span> <span class="cn">TRUE</span>,</span>
<span id="cb203-9"><a href="lectura-de-datos.html#cb203-9" aria-hidden="true" tabindex="-1"></a> <span class="at">skip =</span> <span class="dv">0</span>,</span>
<span id="cb203-10"><a href="lectura-de-datos.html#cb203-10" aria-hidden="true" tabindex="-1"></a> <span class="at">n_max =</span> <span class="cn">Inf</span>,</span>
<span id="cb203-11"><a href="lectura-de-datos.html#cb203-11" aria-hidden="true" tabindex="-1"></a> <span class="at">guess_max =</span> <span class="fu">min</span>(<span class="dv">1000</span>, n_max),</span>
<span id="cb203-12"><a href="lectura-de-datos.html#cb203-12" aria-hidden="true" tabindex="-1"></a> <span class="at">progress =</span> <span class="fu">readxl_progress</span>(),</span>
<span id="cb203-13"><a href="lectura-de-datos.html#cb203-13" aria-hidden="true" tabindex="-1"></a> <span class="at">.name_repair =</span> <span class="st">&quot;unique&quot;</span></span>
<span id="cb203-14"><a href="lectura-de-datos.html#cb203-14" aria-hidden="true" tabindex="-1"></a> )</span></code></pre></div>
<ul>
<li><code>read_xls()</code> lee un archivo con extensión <em>xls</em>.</li>
</ul>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="lectura-de-datos.html#cb204-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_xls</span>(</span>
<span id="cb204-2"><a href="lectura-de-datos.html#cb204-2" aria-hidden="true" tabindex="-1"></a> path,</span>
<span id="cb204-3"><a href="lectura-de-datos.html#cb204-3" aria-hidden="true" tabindex="-1"></a> <span class="at">sheet =</span> <span class="cn">NULL</span>,</span>
<span id="cb204-4"><a href="lectura-de-datos.html#cb204-4" aria-hidden="true" tabindex="-1"></a> <span class="at">range =</span> <span class="cn">NULL</span>,</span>
<span id="cb204-5"><a href="lectura-de-datos.html#cb204-5" aria-hidden="true" tabindex="-1"></a> <span class="at">col_names =</span> <span class="cn">TRUE</span>,</span>
<span id="cb204-6"><a href="lectura-de-datos.html#cb204-6" aria-hidden="true" tabindex="-1"></a> <span class="at">col_types =</span> <span class="cn">NULL</span>,</span>
<span id="cb204-7"><a href="lectura-de-datos.html#cb204-7" aria-hidden="true" tabindex="-1"></a> <span class="at">na =</span> <span class="st">&quot;&quot;</span>, </span>
<span id="cb204-8"><a href="lectura-de-datos.html#cb204-8" aria-hidden="true" tabindex="-1"></a> <span class="at">trim_ws =</span> <span class="cn">TRUE</span>,</span>
<span id="cb204-9"><a href="lectura-de-datos.html#cb204-9" aria-hidden="true" tabindex="-1"></a> <span class="at">skip =</span> <span class="dv">0</span>,</span>
<span id="cb204-10"><a href="lectura-de-datos.html#cb204-10" aria-hidden="true" tabindex="-1"></a> <span class="at">n_max =</span> <span class="cn">Inf</span>, </span>
<span id="cb204-11"><a href="lectura-de-datos.html#cb204-11" aria-hidden="true" tabindex="-1"></a> <span class="at">guess_max =</span> <span class="fu">min</span>(<span class="dv">1000</span>, n_max),</span>
<span id="cb204-12"><a href="lectura-de-datos.html#cb204-12" aria-hidden="true" tabindex="-1"></a> <span class="at">progress =</span> <span class="fu">readxl_progress</span>(),</span>
<span id="cb204-13"><a href="lectura-de-datos.html#cb204-13" aria-hidden="true" tabindex="-1"></a> <span class="at">.name_repair =</span> <span class="st">&quot;unique&quot;</span></span>
<span id="cb204-14"><a href="lectura-de-datos.html#cb204-14" aria-hidden="true" tabindex="-1"></a> )</span></code></pre></div>
<ul>
<li><code>read_excel()</code> determina si el archivo es de tipo <em>xls</em> o <em>xlsx</em> para después
llamar a una de las fuciones mencionadas anteriormente.</li>
</ul>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="lectura-de-datos.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_excel</span>(</span>
<span id="cb205-2"><a href="lectura-de-datos.html#cb205-2" aria-hidden="true" tabindex="-1"></a> path,</span>
<span id="cb205-3"><a href="lectura-de-datos.html#cb205-3" aria-hidden="true" tabindex="-1"></a> <span class="at">sheet =</span> <span class="cn">NULL</span>,</span>
<span id="cb205-4"><a href="lectura-de-datos.html#cb205-4" aria-hidden="true" tabindex="-1"></a> <span class="at">range =</span> <span class="cn">NULL</span>,</span>
<span id="cb205-5"><a href="lectura-de-datos.html#cb205-5" aria-hidden="true" tabindex="-1"></a> <span class="at">col_names =</span> <span class="cn">TRUE</span>,</span>
<span id="cb205-6"><a href="lectura-de-datos.html#cb205-6" aria-hidden="true" tabindex="-1"></a> <span class="at">col_types =</span> <span class="cn">NULL</span>, </span>
<span id="cb205-7"><a href="lectura-de-datos.html#cb205-7" aria-hidden="true" tabindex="-1"></a> <span class="at">na =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb205-8"><a href="lectura-de-datos.html#cb205-8" aria-hidden="true" tabindex="-1"></a> <span class="at">trim_ws =</span> <span class="cn">TRUE</span>, </span>
<span id="cb205-9"><a href="lectura-de-datos.html#cb205-9" aria-hidden="true" tabindex="-1"></a> <span class="at">skip =</span> <span class="dv">0</span>,</span>
<span id="cb205-10"><a href="lectura-de-datos.html#cb205-10" aria-hidden="true" tabindex="-1"></a> <span class="at">n_max =</span> <span class="cn">Inf</span>,</span>
<span id="cb205-11"><a href="lectura-de-datos.html#cb205-11" aria-hidden="true" tabindex="-1"></a> <span class="at">guess_max =</span> <span class="fu">min</span>(<span class="dv">1000</span>, n_max),</span>
<span id="cb205-12"><a href="lectura-de-datos.html#cb205-12" aria-hidden="true" tabindex="-1"></a> <span class="at">progress =</span> <span class="fu">readxl_progress</span>(),</span>
<span id="cb205-13"><a href="lectura-de-datos.html#cb205-13" aria-hidden="true" tabindex="-1"></a> <span class="at">.name_repair =</span> <span class="st">&quot;unique&quot;</span></span>
<span id="cb205-14"><a href="lectura-de-datos.html#cb205-14" aria-hidden="true" tabindex="-1"></a> )</span></code></pre></div>
<p><strong>EJERCICIO:</strong> Leer archivo excel de la carpeta del curso</p>
</div>
<div id="archivos-json" class="section level3" number="8.1.3">
<h3><span class="header-section-number">8.1.3</span> Archivos json</h3>
<p>Se utiliza la función <code>fromJSON</code> de la paquetería <em>jsonlite</em></p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="lectura-de-datos.html#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb206-2"><a href="lectura-de-datos.html#cb206-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-3"><a href="lectura-de-datos.html#cb206-3" aria-hidden="true" tabindex="-1"></a>base_json <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(<span class="st">&quot;data/ames.json&quot;</span>)</span>
<span id="cb206-4"><a href="lectura-de-datos.html#cb206-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(base_json, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##                           MS_SubClass                MS_Zoning Lot_Frontage
## 1 One_Story_1946_and_Newer_All_Styles  Residential_Low_Density          141
## 2 One_Story_1946_and_Newer_All_Styles Residential_High_Density           80
##   Lot_Area Street           Alley          Lot_Shape Land_Contour Utilities
## 1    31770   Pave No_Alley_Access Slightly_Irregular          Lvl    AllPub
## 2    11622   Pave No_Alley_Access            Regular          Lvl    AllPub
##   Lot_Config Land_Slope Neighborhood Condition_1 Condition_2 Bldg_Type
## 1     Corner        Gtl   North_Ames        Norm        Norm    OneFam
## 2     Inside        Gtl   North_Ames       Feedr        Norm    OneFam
##   House_Style  Overall_Cond Year_Built Year_Remod_Add Roof_Style Roof_Matl
## 1   One_Story       Average       1960           1960        Hip   CompShg
## 2   One_Story Above_Average       1961           1961      Gable   CompShg
##   Exterior_1st Exterior_2nd Mas_Vnr_Type Mas_Vnr_Area Exter_Cond Foundation
## 1      BrkFace      Plywood        Stone          112    Typical     CBlock
## 2      VinylSd      VinylSd         None            0    Typical     CBlock
##   Bsmt_Cond Bsmt_Exposure BsmtFin_Type_1 BsmtFin_SF_1 BsmtFin_Type_2
## 1      Good            Gd            BLQ            2            Unf
## 2   Typical            No            Rec            6            LwQ
##   BsmtFin_SF_2 Bsmt_Unf_SF Total_Bsmt_SF Heating Heating_QC Central_Air
## 1            0         441          1080    GasA       Fair           Y
## 2          144         270           882    GasA    Typical           Y
##   Electrical First_Flr_SF Second_Flr_SF Gr_Liv_Area Bsmt_Full_Bath
## 1      SBrkr         1656             0        1656              1
## 2      SBrkr          896             0         896              0
##   Bsmt_Half_Bath Full_Bath Half_Bath Bedroom_AbvGr Kitchen_AbvGr TotRms_AbvGrd
## 1              0         1         0             3             1             7
## 2              0         1         0             2             1             5
##   Functional Fireplaces Garage_Type Garage_Finish Garage_Cars Garage_Area
## 1        Typ          2      Attchd           Fin           2         528
## 2        Typ          0      Attchd           Unf           1         730
##   Garage_Cond      Paved_Drive Wood_Deck_SF Open_Porch_SF Enclosed_Porch
## 1     Typical Partial_Pavement          210            62              0
## 2     Typical            Paved          140             0              0
##   Three_season_porch Screen_Porch Pool_Area Pool_QC           Fence
## 1                  0            0         0 No_Pool        No_Fence
## 2                  0          120         0 No_Pool Minimum_Privacy
##   Misc_Feature Misc_Val Mo_Sold Year_Sold Sale_Type Sale_Condition Sale_Price
## 1         None        0       5      2010       WD          Normal     215000
## 2         None        0       6      2010       WD          Normal     105000
##   Longitude Latitude
## 1  -93.6198   42.054
## 2  -93.6198   42.053</code></pre>
</div>
</div>
<div id="bases-de-datos" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> Bases de Datos</h2>
<p>En muchos de los casos la información estará dentro de un Sistema Manejador de Bases de Datos, existen bibliotecas que nos permiten establecer las conexiones con ellas, algunos ejemplos son:</p>
<ul>
<li>ODBC</li>
<li>DBI</li>
</ul>
<p>Un ejemplo con un SMBD como SQL Server:</p>
<div id="microsoft-sql-server" class="section level3" number="8.2.1">
<h3><span class="header-section-number">8.2.1</span> Microsoft SQL Server</h3>
<p><a href="https://db.rstudio.com/databases/microsoft-sql-server/">Referencias</a></p>
<p><strong>Configuración de conexión: </strong></p>
<p>Se necesitan seis configuraciones para realizar una conexión:</p>
<ul>
<li>Controlador : consulte la sección Controladores para obtener más información</li>
<li>Servidor : una ruta de red al servidor de la base de datos.</li>
<li>Base de datos : el nombre de la base de datos.</li>
<li>UID : el ID de red del usuario o la cuenta local del servidor</li>
<li>PWD : la contraseña de la cuenta</li>
<li>Puerto : debe establecerse en 1433</li>
</ul>
<p>Para establecer la conexión con la base de datos:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="lectura-de-datos.html#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb208-2"><a href="lectura-de-datos.html#cb208-2" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbConnect</span>(</span>
<span id="cb208-3"><a href="lectura-de-datos.html#cb208-3" aria-hidden="true" tabindex="-1"></a> odbc<span class="sc">::</span><span class="fu">odbc</span>(),</span>
<span id="cb208-4"><a href="lectura-de-datos.html#cb208-4" aria-hidden="true" tabindex="-1"></a> <span class="at">Driver   =</span> <span class="st">&quot;[your driver&#39;s name]&quot;</span>,</span>
<span id="cb208-5"><a href="lectura-de-datos.html#cb208-5" aria-hidden="true" tabindex="-1"></a> <span class="at">Server   =</span> <span class="st">&quot;[your server&#39;s path]&quot;</span>,</span>
<span id="cb208-6"><a href="lectura-de-datos.html#cb208-6" aria-hidden="true" tabindex="-1"></a> <span class="at">Database =</span> <span class="st">&quot;[your database&#39;s name]&quot;</span>,</span>
<span id="cb208-7"><a href="lectura-de-datos.html#cb208-7" aria-hidden="true" tabindex="-1"></a> <span class="at">UID      =</span> rstudioapi<span class="sc">::</span><span class="fu">askForPassword</span>(<span class="st">&quot;Database user&quot;</span>),</span>
<span id="cb208-8"><a href="lectura-de-datos.html#cb208-8" aria-hidden="true" tabindex="-1"></a> <span class="at">PWD      =</span> rstudioapi<span class="sc">::</span><span class="fu">askForPassword</span>(<span class="st">&quot;Database password&quot;</span>),</span>
<span id="cb208-9"><a href="lectura-de-datos.html#cb208-9" aria-hidden="true" tabindex="-1"></a> <span class="at">Port     =</span> <span class="dv">1433</span></span>
<span id="cb208-10"><a href="lectura-de-datos.html#cb208-10" aria-hidden="true" tabindex="-1"></a> )</span></code></pre></div>
<p><strong>Información sobre la base de datos: </strong></p>
<p>El odbcpaquete le brinda herramientas para explorar objetos y columnas en la base de datos.</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="lectura-de-datos.html#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Top level objects</span></span>
<span id="cb209-2"><a href="lectura-de-datos.html#cb209-2" aria-hidden="true" tabindex="-1"></a><span class="fu">odbcListObjects</span>(con)</span>
<span id="cb209-3"><a href="lectura-de-datos.html#cb209-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb209-4"><a href="lectura-de-datos.html#cb209-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Tables in a schema</span></span>
<span id="cb209-5"><a href="lectura-de-datos.html#cb209-5" aria-hidden="true" tabindex="-1"></a><span class="fu">odbcListObjects</span>(con, <span class="at">catalog =</span> <span class="st">&quot;mydb&quot;</span>, <span class="at">schema =</span> <span class="st">&quot;dbo&quot;</span>)</span>
<span id="cb209-6"><a href="lectura-de-datos.html#cb209-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb209-7"><a href="lectura-de-datos.html#cb209-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Columns in a table</span></span>
<span id="cb209-8"><a href="lectura-de-datos.html#cb209-8" aria-hidden="true" tabindex="-1"></a><span class="fu">odbcListColumns</span>(con, <span class="at">catalog =</span> <span class="st">&quot;mydb&quot;</span>, <span class="at">schema =</span> <span class="st">&quot;dbo&quot;</span>, <span class="at">table =</span> <span class="st">&quot;cars&quot;</span>)</span>
<span id="cb209-9"><a href="lectura-de-datos.html#cb209-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb209-10"><a href="lectura-de-datos.html#cb209-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Database structure</span></span>
<span id="cb209-11"><a href="lectura-de-datos.html#cb209-11" aria-hidden="true" tabindex="-1"></a><span class="fu">odbcListObjectTypes</span>(con)</span></code></pre></div>
<p><strong>Consultas con SQL: </strong>
Para consultas interactivas, utilice <em>dbGetQuery()</em> para enviar una consulta y obtener los resultados. Para obtener los resultados por separado, utilice <em>dbSendQuery()</em> y <em>dbFetch()</em>. El argumento <em>n</em> en <em>dbFetch()</em> se puede utilizar para obtener resultados parciales.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="lectura-de-datos.html#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Return the results for an arbitrary query</span></span>
<span id="cb210-2"><a href="lectura-de-datos.html#cb210-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dbGetQuery</span>(con, <span class="st">&quot;SELECT speed, dist FROM cars&quot;</span>)</span>
<span id="cb210-3"><a href="lectura-de-datos.html#cb210-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-4"><a href="lectura-de-datos.html#cb210-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fetch the first 100 records</span></span>
<span id="cb210-5"><a href="lectura-de-datos.html#cb210-5" aria-hidden="true" tabindex="-1"></a>query <span class="ot">&lt;-</span> <span class="fu">dbSendQuery</span>(con, <span class="st">&quot;SELECT speed, dist FROM cars&quot;</span>)</span>
<span id="cb210-6"><a href="lectura-de-datos.html#cb210-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dbFetch</span>(query, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb210-7"><a href="lectura-de-datos.html#cb210-7" aria-hidden="true" tabindex="-1"></a><span class="fu">dbClearResult</span>(query)</span></code></pre></div>
<p>Puedes usar los ejemplos anteriores para probar con diferentes consultas y bases de datos.</p>
<p>Tengamos un ejemplo de manera local:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="lectura-de-datos.html#cb211-1" aria-hidden="true" tabindex="-1"></a>remotes<span class="sc">::</span><span class="fu">install_version</span>(<span class="st">&quot;RSQLite&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="lectura-de-datos.html#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb212-2"><a href="lectura-de-datos.html#cb212-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dbplyr)</span>
<span id="cb212-3"><a href="lectura-de-datos.html#cb212-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RSQLite)</span>
<span id="cb212-4"><a href="lectura-de-datos.html#cb212-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-5"><a href="lectura-de-datos.html#cb212-5" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">src_memdb</span>()</span>
<span id="cb212-6"><a href="lectura-de-datos.html#cb212-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-7"><a href="lectura-de-datos.html#cb212-7" aria-hidden="true" tabindex="-1"></a><span class="fu">copy_to</span>(con, storms, <span class="at">overwrite =</span> T)</span>
<span id="cb212-8"><a href="lectura-de-datos.html#cb212-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-9"><a href="lectura-de-datos.html#cb212-9" aria-hidden="true" tabindex="-1"></a>tbl_storms <span class="ot">&lt;-</span> <span class="fu">tbl</span>(con, <span class="st">&quot;storms&quot;</span>)</span>
<span id="cb212-10"><a href="lectura-de-datos.html#cb212-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-11"><a href="lectura-de-datos.html#cb212-11" aria-hidden="true" tabindex="-1"></a>tbl_storms</span></code></pre></div>
<pre><code>## # Source:   table&lt;storms&gt; [?? x 13]
## # Database: sqlite 3.37.0 [:memory:]
##    name   year month   day  hour   lat  long status      category  wind pressure
##    &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;    &lt;int&gt;    &lt;int&gt;
##  1 Amy    1975     6    27     0  27.5 -79   tropical d… -1          25     1013
##  2 Amy    1975     6    27     6  28.5 -79   tropical d… -1          25     1013
##  3 Amy    1975     6    27    12  29.5 -79   tropical d… -1          25     1013
##  4 Amy    1975     6    27    18  30.5 -79   tropical d… -1          25     1013
##  5 Amy    1975     6    28     0  31.5 -78.8 tropical d… -1          25     1012
##  6 Amy    1975     6    28     6  32.4 -78.7 tropical d… -1          25     1012
##  7 Amy    1975     6    28    12  33.3 -78   tropical d… -1          25     1011
##  8 Amy    1975     6    28    18  34   -77   tropical d… -1          30     1006
##  9 Amy    1975     6    29     0  34.4 -75.8 tropical s… 0           35     1004
## 10 Amy    1975     6    29     6  34   -74.8 tropical s… 0           40     1002
## # … with more rows, and 2 more variables: ts_diameter &lt;dbl&gt;, hu_diameter &lt;dbl&gt;</code></pre>

</div>
</div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>

$('.pipehover_incremental tr').hover(function() {
  $(this).removeClass()
  $(this).prevAll().removeClass()
  $(this).nextAll().removeClass()
  $(this).addClass('hover');
  $(this).prevAll().addClass('hover');
  $(this).closest('div').next().find('img').attr("src", $(this).attr("link"));
});


$('.pipehover_select_one_row tr').hover(function() {
  $(this).removeClass()
  $(this).prevAll().removeClass()
  $(this).nextAll().removeClass()
  $(this).addClass('hover');
  $(this).closest('div').next().find('img').attr("src", $(this).attr("link"));
});

</script>
            </section>

          </div>
        </div>
      </div>
<a href="bucles.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tidyverse.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Introducción a Ciencia de Datos con R (Tidyverse).pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
